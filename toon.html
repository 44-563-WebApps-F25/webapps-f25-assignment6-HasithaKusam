<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Cartoon game by Hasitha Kusam</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Bootstrap (Bonus requirement) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .clickable{cursor:pointer}
    .img-150{width:150px;height:150px;object-fit:cover;border-radius:.5rem;border:1px solid #dee2e6}
  </style>
</head>
<body class="bg-light">
  <div class="container py-4">
    <h1 class="mb-3">Cartoon game by Hasitha Kusam</h1>

    <!-- Part 3: Guess game -->
    <div class="card mb-3">
      <div class="card-header">Guess the toon</div>
      <div class="card-body">
        <div class="row g-3 align-items-center mb-2">
          <div class="col-sm-4">
            <label for="toon" class="col-form-label">That’s all folks</label>
          </div>
          <div class="col-sm-8">
            <input id="toon" type="password" value="Porky Pig" class="form-control">
            <div class="form-text">You can change this for testing.</div>
          </div>
        </div>

        <div class="row g-3 align-items-center mb-2">
          <div class="col-sm-4">
            <label for="guess" class="col-form-label">Guess the toon</label>
          </div>
          <div class="col-sm-8">
            <input id="guess" type="text" class="form-control" placeholder="Type your guess">
          </div>
        </div>

        <button id="guessBtn" type="button" class="btn btn-primary" onclick="checkToon()">Check the guess</button>

        <!-- Bonus: div that displays correct/wrong -->
        <div id="counts" class="alert alert-info mt-3 mb-0">
          ✅ Correct: <span id="yahooCount">0</span> &nbsp; | &nbsp; ❌ Wrong: <span id="darnCount">0</span>
        </div>
      </div>
    </div>

    <!-- Part 4: Image switcher -->
    <div class="card">
      <div class="card-header">Plant images (click to cycle)</div>
      <div class="card-body">
        <img id="plantPic" class="clickable img-150" src="sunflower.jpg" alt="plant" onclick="updatePic()">
        <div class="form-text">Click the image to switch between your three plant photos.</div>
      </div>
    </div>
  </div>

  <script>
    // Part 3 globals
    let darn = 0, yahoo = 0;

    function renderCounts(){
      document.getElementById('yahooCount').textContent = yahoo;
      document.getElementById('darnCount').textContent  = darn;
    }

    // BONUS: lockout handler after too many wrong guesses
    function tooMany(){
      alert('Sorry, too many wrong guesses.');
    }

    function checkToon(){
      const secret = document.getElementById('toon').value.trim();
      const guess  = document.getElementById('guess').value.trim();

      if (guess === secret){
        yahoo++;
        alert('You got it');
      } else {
        darn++;
        alert('Missed me');

        // BONUS rule: if wrong guesses > 10, replace onclick with new function
        if (darn > 10){
          const btn = document.getElementById('guessBtn');
          btn.onclick = tooMany;                  // replace onclick target
          btn.classList.remove('btn-primary');
          btn.classList.add('btn-secondary');     // visual feedback
          btn.textContent = 'Check the guess (locked)'; // optional label change
        }
      }
      renderCounts();
    }

    // Part 4 globals
    let usePic = 1; 

    function updatePic(){
      const img = document.getElementById('plantPic');
      switch (usePic){
        case 1:
          img.src = 'sunflower.jpg';
          usePic = 2;
          break;
        case 2:
          img.src = 'aloevera.jpg';
          usePic = 3;
          break;
        case 3:
        default:
          img.src = 'hibiscus.jpg';
          usePic = 1;
          break;
      }
    }
  </script>
</body>
</html>
