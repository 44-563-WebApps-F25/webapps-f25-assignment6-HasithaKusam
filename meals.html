<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Hasitha Kusam plans a meal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Bootstrap (Bonus) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>#mealOut{white-space:pre-wrap;font-family:ui-monospace,Menlo,Consolas,monospace;font-weight:600}</style>
</head>
<body class="bg-light">
  <div class="container py-4">
    <h1 class="mb-3">Hasitha Kusam plans a meal</h1>

    <!-- PART 7: CHECKBOXES -->
    <div class="card mb-3">
      <div class="card-header">Meal choices</div>
      <div class="card-body">
        <div class="form-check form-check-inline">
          <input id="saladBox" class="form-check-input" type="checkbox" value="True">
          <label for="saladBox" class="form-check-label">Serve salad</label>
        </div>
        <div class="form-check form-check-inline">
          <input id="stewBox" class="form-check-input" type="checkbox" value="True">
          <label for="stewBox" class="form-check-label">Make stew</label>
        </div>
        <div class="form-check form-check-inline">
          <input id="chocBox" class="form-check-input" type="checkbox" value="False">
          <label for="chocBox" class="form-check-label">Chocolate for dessert</label>
        </div>
        <div class="mt-3">
          <button type="button" class="btn btn-primary" onclick="startMeal()">Meal Choices</button>
        </div>
        <div id="mealOut" class="alert alert-info mt-3 mb-0">{}</div>
      </div>
    </div>

    <div class="card">
      <div class="card-header">Add details</div>
      <div class="card-body">
        <div class="mb-2">
          <label for="drink" class="form-label">Enter drink</label>
          <input id="drink" type="text" value="Wine" class="form-control">
        </div>
        <div class="mb-3">
          <label for="starter" class="form-label">Enter starter</label>
          <input id="starter" type="text" placeholder="e.g., Soup" class="form-control">
        </div>
        <button type="button" class="btn btn-success" onclick="updateLunch()">Update the meal</button>
      </div>
    </div>
  </div>

  <script>
    let my_meal = {};

    // ---- SS8 code for checkbox block ----
    // (1) startMeal function
    function startMeal(){
      // (1) reset my_meal
      my_meal = {};
      // (2) Set properties based on form
      my_meal.salad     = document.getElementById('saladBox').checked;
      my_meal.stew      = document.getElementById('stewBox').checked;
      my_meal.chocolate = document.getElementById('chocBox').checked;
      // (1) update result element
      document.getElementById('mealOut').textContent = JSON.stringify(my_meal, null, 2);
    }

    // ---- SS8 code for addition form ----
    function updateLunch(){
      const drink   = document.getElementById('drink').value.trim();
      const starter = document.getElementById('starter').value.trim();

      // (1) add mapping to object
      my_meal.drink   = drink;    
      my_meal.starter = starter;  

      // (1) update result element
      document.getElementById('mealOut').textContent = JSON.stringify(my_meal, null, 2);
    }
  </script>
</body>
</html>
